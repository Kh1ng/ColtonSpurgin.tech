<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="refresh" content="0; url=/" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Redirecting…</title>
    <script>
      // Convert path-based requests into hash-based routes for SPA on GitHub Pages.
      // Works for both user sites (https://user.github.io) and project sites (https://user.github.io/repo).
      (function () {
        try {
          var path = window.location.pathname || '/';
          // Split path into segments: ['', 'repo', 'rest', ...]
          var parts = path.split('/');
          // Determine base: if there is a second segment (parts[1]) and more than 2 parts, treat it as repo base
          var base = '';
          if (parts.length > 2 && parts[1]) {
            base = '/' + parts[1];
          }
          // Compute the remainder path after base
          var remainder = path.replace(base, '') || '/';
          // Build new URL: origin + base + '/#' + remainder
          var newUrl = window.location.origin + (base || '') + '/#' + remainder;
          // Normalize double slashes
          newUrl = newUrl.replace(/([^:]\/)\/+/g, '$1');
          window.location.replace(newUrl);
        } catch (e) {
          // fallback: go to root
          window.location.replace('/');
        }
      })();
    </script>
  </head>
  <body>
    Redirecting… If you are not redirected, <a id="redir" href="/">click here</a>.
    <script>
      // Also update fallback link to include hash path when possible
      (function(){
        var a = document.getElementById('redir');
        if (!a) return;
        try {
          var path = window.location.pathname || '/';
          var parts = path.split('/');
          var base = '';
          if (parts.length > 2 && parts[1]) base = '/' + parts[1];
          var remainder = path.replace(base, '') || '/';
          a.href = (window.location.origin + (base || '') + '/#' + remainder).replace(/([^:]\/)\/+/g, '$1');
        } catch (e) { /* ignore */ }
      })();
    </script>
  </body>
</html>
